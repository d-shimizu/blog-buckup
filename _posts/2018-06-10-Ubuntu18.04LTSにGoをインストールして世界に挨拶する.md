---
layout: post
Categories:  ["tech"]
Description:  " Go勉強しようと思って結構経ってしまったが、今さらながらとりあえず環境構築しようと思ったのでやってみて、世界に挨拶しておいた。 "
Tags: ["Golang", "tech", "Ubuntu"]
date: "2018-06-10T14:34:00+09:00"
title: "Ubuntu18.04LTSにGoをインストールして世界に挨拶する"
author: "dshimizu"
archive: ["2018"]
draft: "true"
---

<body>
<p>Go勉強しようと思って結構経ってしまったが、今さらながらとりあえず環境構築しようと思ったのでやってみて、世界に挨拶しておいた。</p>
</body>

<!-- more -->

<body>
<h3>Goのインストール</h3>


<p>Ubuntu18.04LTSにインストールした。</p>

<pre class="terminal"> $ uname -r
4.15.0-20-generic

$ lsb_release -a
No LSB modules are available.
Distributor ID: Ubuntu
Description:    Ubuntu 18.04 LTS
Release:        18.04
Codename:       bionic
 </pre>


<p>ソースからインストールすべきなのか、主流なやり方がわからなかったので、公式の<a class="keyword" href="http://d.hatena.ne.jp/keyword/Wiki">Wiki</a>にやり方が書かれてあったのでとりあえずそれをそのまま実行してみただけ。</p>

<ul>
    <li><a href="https://github.com/golang/go/wiki/Ubuntu" target="_brank" rel="noopener noreferrer">Ubuntu · golang/go Wiki · GitHub</a></li>
</ul>


<p>ちなみに<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%BD%A1%BC%A5%B9%A5%B3%A1%BC%A5%C9">ソースコード</a>は以下から取得可能。</p>

<ul>
    <li><a href="https://golang.org/dl/" target="_brank" rel="noopener noreferrer">Downloads - The Go Programming Language</a></li>
</ul>


<p>まずはPPAの登録。以下の出力の後、メッセージ通りに[ENTER]を押せば登録完了。</p>

<pre class="terminal"> $ sudo add-apt-repository ppa:gophers/archive
 Co-installable packages of Go 1.4, 1.5, 1.6, 1.7, 1.8, and tip for Ubuntu Trusty, Wily, Xenial and Yakkety.

Installing golang-1.X installs the latest point release of Go 1.X. I add the odd patch to keep older versions of Go building with new toolchains, but I do *not* make any effort to backport security fixes to Go releases that are not supported by upstream. Buyer beware!

The golang-tip package is a bit different, it will always track Go tip (it is updated manually and somewhat erratically currently). I start uploading a release when its first beta is released, so e.g. I uploaded a golang-1.7  package after 1.7 beta 1 was released.

So these packages can be co-installable, they do not install anything to /usr/bin. Once you have installed the golang-1.X package, you will need to add /usr/lib/go-1.X/bin (or maybe /usr/lib/go-tip/bin) to your $PATH, or you can just invoke /usr/lib/go-1.X/bin/go directly.

The packages all Recommend: appropriate versions of the runtime race detector support on amd64, which are also built in this PPA.
 詳しい情報: https://launchpad.net/~gophers/+archive/ubuntu/archive
[ENTER] を押すと続行します。Ctrl-c で追加をキャンセルできます。
:
 </pre>


<p>後は普通のパッケージインストールと同様に、パッケージ情報を更新してインストールするだけ。</p>

<pre class="terminal"> $ sudo apt-get update

$ sudo apt-get install golang-1.10-go
 </pre>


<p>以下にインストールされている。</p>

<pre class="terminal"> $ /usr/lib/go-1.10/bin/go version
go version go1.10.1 linux/amd64
 </pre>


<p>これでインストール完了。
パッケージインストール時の<code>GOROOT</code>とか<code>GOPATH</code>とかはどうすべきなのかまだわかってない。</p>

<h3>Goで<a class="keyword" href="http://d.hatena.ne.jp/keyword/Hello%20World">Hello World</a>
</h3>


<p>ということで世界に挨拶してみる。
コードは以下。</p>

<pre class="terminal"> package main

import "fmt"

func main() {
  fmt.Printf("Hello world !!\n")
}
 </pre>


<p>上記のコードは以下のGoの<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%C1%A5%E5%A1%BC%A5%C8%A5%EA%A5%A2%A5%EB">チュートリアル</a>に載っているものをそのまま。</p>

<ul>
    <li><a href="http://golang.jp/go_tutorial" target="_brank" rel="noopener noreferrer">チュートリアル - Google's Go Guide</a></li>
</ul>


<p><code>import fmt</code>は入出力を扱うパッケージをインポートしているとのことだが、<code>package main</code>はまだちゃんとわかっていない。
<code>package main</code>を外して実行すると以下のエラーになったので必要な関数？とかを使うために必要みたいなものなんだろうか。</p>

<pre class="terminal"> $ /usr/lib/go-1.10/bin/go run hello.go
package main:
hello.go:2:1: expected 'package', found 'import'
 </pre>


<p>コードを正常な形に戻して実行。</p>

<pre class="terminal"> $ /usr/lib/go-1.10/bin/go run hello.go
Hello world !!
 </pre>


<h3>まとめ</h3>


<p>Goのインストール手順と<a class="keyword" href="http://d.hatena.ne.jp/keyword/Hello%20World">Hello World</a>について書いた。
世界に挨拶するまでは簡単...</p>

<h3>参考</h3>


<ul>
    <li><a target="_brank" rel="noopener noreferrer" href="https://github.com/golang/go/wiki/Ubuntu">Ubuntu · golang/go Wiki · GitHub</a></li>
    <li><a target="_brank" rel="noopener noreferrer" href="http://golang.jp/go_tutorial">チュートリアル - Google's Go Guide</a></li>
    <li><a target="_brank" rel="noopener noreferrer" href="https://golang.org/doc/code.html">How to Write Go Code - The Go Programming Language</a></li>
    <li><a target="_brank" rel="noopener noreferrer" href="https://teratail.com/questions/41746">Go - 【Go】結局、$GOPATHと$GOROOTはどこに設定すればいいの？(41746)｜teratail</a></li>
    <li><a target="_brank" rel="noopener noreferrer" href="https://thinkit.co.jp/article/11049">Goの基本的な文法を学ぼう | Think IT（シンクイット）</a></li>
</ul>

</body>
