---
layout: post
Categories:  ["tech"]
Description:  " はじめに  Ruby on Rails勉強し始めたころにOfficial Blog: A second spring of cleaningでGoogle Readerが終了するとの告知を受けて、とりあえずRuby on Railsを使っ"
Tags: ["Ruby", "Rails", "Webアプリ"]
date: "2014-01-31T01:59:00+09:00"
title: "Rails 4でとりあえず動作するフィード・リーダーのアプリを作ってみた"
author: "dshimizu"
archive: ["2014"]
draft: "true"
---

<body>
<h4>はじめに</h4>
<p><a class="keyword" href="http://d.hatena.ne.jp/keyword/Ruby%20on%20Rails">Ruby on Rails</a>勉強し始めたころに<a href="http://googleblog.blogspot.jp/2013/03/a-second-spring-of-cleaning.html">Official Blog: A second spring of cleaning</a>で<a class="keyword" href="http://d.hatena.ne.jp/keyword/Google%20Reader">Google Reader</a>が終了するとの告知を受けて、とりあえず<a class="keyword" href="http://d.hatena.ne.jp/keyword/Ruby%20on%20Rails">Ruby on Rails</a>を使って<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%D5%A5%A3%A1%BC%A5%C9%A5%EA%A1%BC%A5%C0%A1%BC">フィードリーダー</a>アプリを作ってみようと思い、やってみました。<br>まだ不完全ですが･･･。 </p>
<a name="more"></a><ul>  <li><a href="https://github.com/kanjuku-tomato/readerd">kanjuku-tomato/readerd · GitHub</a></li>
</ul> <h4>やってみたこととか</h4>
<h5>基盤系</h5>
<p>アプリの設置先にはさくらの<a class="keyword" href="http://d.hatena.ne.jp/keyword/VPS">VPS</a> <a class="keyword" href="http://d.hatena.ne.jp/keyword/SSD">SSD</a> メモリ2Gを使いました。<a class="keyword" href="http://d.hatena.ne.jp/keyword/AWS">AWS</a>とかも使ってみたいですがどこまでやれるかわからなかったのでコストを考えて一旦断念しました。OSにはCentOS6を使い、WEBサーバソフトウェアはNginx、<a class="keyword" href="http://d.hatena.ne.jp/keyword/Unicorn">Unicorn</a>を、データベースには<a class="keyword" href="http://d.hatena.ne.jp/keyword/PostgreSQL">PostgreSQL</a> 9.3を使いました。<a class="keyword" href="http://d.hatena.ne.jp/keyword/PostgreSQL">PostgreSQL</a>は最初9.2でやってましたが途中で9.3が出たのでアップデートしました。でも別に9.3特有の機能とかは使ってません。 </p>
<h5>Rails4 アプリ作成</h5>
<p>アプリに関しては、すでに同じようなことをやられている方も当然いらっしゃったので、そういった方のブログ記事や<a class="keyword" href="http://d.hatena.ne.jp/keyword/github">github</a>にソースを公開されている方のソースを参考にさせていただきました。<br><a class="keyword" href="http://d.hatena.ne.jp/keyword/Rails">Rails</a>に関してはお作法からわからなかったので苦労しました。というか未だにどういう書き方が良いのかなどちゃんと理解できてないです。何かとあるとコントローラで処理させようとしてしまうのでモデルやビューをうまく使い分けるとか<a class="keyword" href="http://d.hatena.ne.jp/keyword/ActiveRecord">ActiveRecord</a>の扱い方とか。<br>とりあえず、前述のようないろいろな方の<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%BD%A1%BC%A5%B9%A5%B3%A1%BC%A5%C9">ソースコード</a>を拝見してそれをローカルに取得して少し変更してはそのときの動作を確認してというのを繰り返したり、<a class="keyword" href="http://d.hatena.ne.jp/keyword/Rails">Rails</a>プロジェクトを何度か立ち上げて写経したり適当に簡単なプログラムを作ったりして感じを覚えていきました。<br><a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%D7%A5%ED%A5%B0%A5%E9%A5%DE%A5%D6%A5%EB">プログラマブル</a>な思考についても引き続き勉強していきます。 </p>
<h5>使ってみたGem</h5>
<h6><a href="http://unicorn.bogomips.org/">Unicorn: Rack HTTP server for Unix and fast clients</a></h6>
<p>最近主流のRack(<a class="keyword" href="http://d.hatena.ne.jp/keyword/Ruby">Ruby</a>と<a class="keyword" href="http://d.hatena.ne.jp/keyword/Ruby">Ruby</a>アプリケーション/<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%D5%A5%EC%A1%BC%A5%E0%A5%EF%A1%BC%A5%AF">フレームワーク</a>間のインターフェース)対応httpサーバ。 </p> <h6><a href="https://github.com/plataformatec/devise">devise</a></h6>
<p><a class="keyword" href="http://d.hatena.ne.jp/keyword/Rails">Rails</a>の認証ライブラリの定番。ログイン機能を簡単に実装できます。 </p> <h6><a href="https://github.com/pauldix/feedzirra">pauldix/feedzirra - GitHub</a></h6>
<p>フィードの情報を取得するライブラリ。似たようなライブラリは他にもありましたが、開発が今でも行われているようなのでこれを使わせていただきました。フィードの新規登録時や定期更新時にこのライブラリ経由で情報を取得しています。<br>ただ、Nokogiriで解析して取得したフィードのURLをfeedzirraに渡しているので、Nokogiriの解析結果から実際のフィードURLが取得できない場合はエラーになってしまいます。他のアプリケーションだとどうやって処理しているのかもう少し調べてみようと思ってます。 </p> <h6><a href="http://nokogiri.org/Nokogiri/HTML/Builder.html">Nokogiri</a></h6>
<p>FeedzirraはFeedのURLしか解析できないっぽかったのですが毎回FeedのURLを調べるのが手間だったので、対象サイトのURLからFeedのURLを取得するためにNokogiriを使ってみました。 </p> <h6><a href="https://github.com/seyhunak/twitter-bootstrap-rails">seyhunak/twitter-bootstrap-rails - GitHub</a></h6>
<p>米<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%C4%A5%A4%A5%C3%A5%BF%A1%BC">ツイッター</a>が開発・提供しているフロントエンドツールの<a class="keyword" href="http://d.hatena.ne.jp/keyword/Rails">Rails</a>ライブラリ。レスポンシブにも対応してデザインの調整が結構楽になります。 </p> <h6><a href="https://github.com/javan/whenever">javan/whenever - GitHub</a></h6>
<p>Crontab管理ライブラリ。これを使ってフィードデータ取得用のrakeタスクをcrontabに登録して管理してます。 </p> <h6><a href="https://github.com/rails/strong_parameters">rails/strong_parameters · GitHub</a></h6>
<p>mass_assignment<a class="keyword" href="http://d.hatena.ne.jp/keyword/%C0%C8%BC%E5%C0%AD">脆弱性</a>を解決するためのライブラリ。従来はモデル側でフィルタリングの制御をしていたけど、Rails4からはこれを使ってコントローラ側で制御するのが標準になる模様。 </p> <h6><a href="https://github.com/newrelic/rpm">newrelic/rpm · GitHub</a></h6>
<p>NewRelicで<a class="keyword" href="http://d.hatena.ne.jp/keyword/Rails">Rails</a>アプリケーションのパフォーマンスをモニタリングするためのGem。 </p>  <h4>おわりに</h4>
<p>自分用のアプリケーションをとりあえずRails4で作ってみました。とりあえず既読管理とか実装したい。 </p>
<p>もっと勉強して次は人に使ってもらえるアプリケーションを作ってみたいなぁ。 </p> <h4>参考</h4> <ul>  <li><a href="http://havelog.ayumusato.com/develop/ruby/e555-rails_on_heroku_app.html">Rails + Heroku で俺専用RSSリーダー作った ::ハブろぐ</a></li>  <li><a href="http://techracho.bpsinc.jp/morimorihoge/2013_07_12/12482">Rails3アプリケーション開発で良く使うgemまとめ</a></li>  <li><a href="http://ppworks.hatenablog.jp/entry/2012/02/19/033644">twitter bootstrap railsを使ったら職が見つかり彼女も出来て背も3センチ伸びました。 - ppworks blog</a></li>  <li><a href="http://morizyun.github.io/blog/whenever-gem-rails-ruby-capistrano/">Wheneverは導入が超簡単なcorntab管理ライブラリGemです！[Rails] - 酒と泪とRubyとRailsと</a></li>  <li><a href="http://willnet.in/48">Rails4.0に含まれる strong_parameters について - willnet.in</a></li>  <li><a href="http://qiita.com/znz/items/5471e5826fde29fa9a80">Ruby - ツールを使いたいだけの人のための bundler 入門 (例: vagrant + veewee) - Qiita [キータ]</a></li>  <li><a href="http://www.opentone.co.jp/news/release/article03/article0304.html">「Ruby on Railsで簡単で素早くWebアプリを開発する」 第４回 Active Recordの入力チェック機能</a></li>  <li><a href="http://twodollarz.hatenablog.jp/entry/20120703">[Rials3]Rails3 + ActiveRecord で正しくtimezoneを設定する - Future Journal 〜未来志向で行こう〜</a></li>  <li><a href="http://rosylilly.hatenablog.com/entry/2013/04/07/211847">rails 4 concern 便利 - 鳩舎</a></li>  <li><a href="http://ntcncp.net/2012/12/26/translate-dhh-concerns-to-extract-module">翻訳 ふとっちょのRails modelをconcernsでダイエットしよう | ntcncp.net</a></li>
</ul>
</body>

<!-- more -->


