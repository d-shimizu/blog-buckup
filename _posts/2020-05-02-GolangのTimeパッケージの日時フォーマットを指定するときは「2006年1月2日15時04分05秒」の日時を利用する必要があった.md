---
layout: post
Categories:  ["tech"]
Description:  " GolangでTimeパッケージを使って日時のフォーマットを変更するときの形式は決まっていたのでメモ書き。 "
Tags: ["Golang", "tech"]
date: "2020-05-02T18:17:00+09:00"
title: "GolangのTimeパッケージの日時フォーマットを指定するときは「2006年1月2日15時04分05秒」の日時を利用する必要があった"
author: "dshimizu"
archive: ["2020"]
draft: "true"
---

<body>
<p><a class="keyword" href="http://d.hatena.ne.jp/keyword/Golang">Golang</a>でTimeパッケージを使って日時のフォーマットを変更するときの形式は決まっていたのでメモ書き。</p>
</body>

<!-- more -->

<body>
<p>例えば以下のようなコードを使って現在時刻を取得する。</p>

<pre class="terminal"> package main

import (
    "fmt"
    "time"
)

func main() {
    fmt.Println(time.Now())
}
 </pre>


<p>これを実行すると以下のような出力になる。</p>

<pre class="terminal"> % go run time.go
2020-05-02 16:22:41.773538 +0900 JST m=+0.000083111
 </pre>


<p>これを例えば年月日だけを「YYYY年MM月DD日」という形式で取得しようと思うと、以下のようにする必要がある。</p>

<pre class="terminal"> package main

import (
    "fmt"
    "time"
)

func main() {
    fmt.Println(time.Now().Format("2006年01月02日"))
}
 </pre>


<p>これを実行すると以下のようになる。</p>

<pre class="terminal"> % go run time.go
2020年05月02日
 </pre>




<h3>経緯</h3>


<p>最初、Formatで指定する形式はなんでも良いのかと思って以下のようにした。</p>

<pre class="terminal"> package main

import (
    "fmt"
    "time"
)

func main() {
    fmt.Println(time.Now().Format("2020年01月0１日"))
}
 </pre>


<p></p>

<p>すると出力が以下のようなものになってしまった。</p>

<pre class="terminal"> % go run time.go
20200年05月05日
 </pre>


<p>そこで調べたらFormatメソッドに指定する形式が決まっているようなことがドキュメントに書かれていた。</p>

<ul>
    <li><a target="_brank" rel="nopener noopener noreferrer" href="https://golang.org/pkg/time/#Time.Format">time - The Go Programming Language</a></li>
</ul>
<pre class="doc"> These are predefined layouts for use in Time.Format and time.Parse. The reference time used in the layouts is the specific time:

Mon Jan 2 15:04:05 MST 2006

which is Unix time 1136239445. Since MST is GMT-0700, the reference time can be thought of as

01/02 03:04:05PM '06 -0700
 </pre>



<p>他にも定形フォーマットは定義されている。</p>

<ul>
    <li><a target="_brank" rel="nopener noopener noreferrer" href="https://github.com/golang/go/blob/master/src/time/format.go">go/format.go at master · golang/go</a></li>
</ul>
<pre class="terminal"> const (
    ANSIC       = "Mon Jan _2 15:04:05 2006"
    UnixDate    = "Mon Jan _2 15:04:05 MST 2006"
    RubyDate    = "Mon Jan 02 15:04:05 -0700 2006"
    RFC822      = "02 Jan 06 15:04 MST"
    RFC822Z     = "02 Jan 06 15:04 -0700" // RFC822 with numeric zone
    RFC850      = "Monday, 02-Jan-06 15:04:05 MST"
    RFC1123     = "Mon, 02 Jan 2006 15:04:05 MST"
    RFC1123Z    = "Mon, 02 Jan 2006 15:04:05 -0700" // RFC1123 with numeric zone
    RFC3339     = "2006-01-02T15:04:05Z07:00"
    RFC3339Nano = "2006-01-02T15:04:05.999999999Z07:00"
    Kitchen     = "3:04PM"
    // Handy time stamps.
    Stamp      = "Jan _2 15:04:05"
    StampMilli = "Jan _2 15:04:05.000"
    StampMicro = "Jan _2 15:04:05.000000"
    StampNano  = "Jan _2 15:04:05.000000000"
)
 </pre>





<h3>参考</h3>




<ul>
    <li><a target="_brank" rel="nopener noopener noreferrer" href="https://golang.org/pkg/time/#Time.Format">time - The Go Programming Language</a></li>
    <li><a target="_brank" rel="nopener noopener noreferrer" href="https://github.com/golang/go/blob/master/src/time/format.go">go/format.go at master · golang/go</a></li>
    <li><a target="_brank" rel="noopener noreferrer" href="https://qiita.com/ruiu/items/5936b4c3bd6eb487c182">Goのtimeパッケージのリファレンスタイム（2006年1月2日）は何の日？ - Qiita</a></li>
</ul>

</body>
