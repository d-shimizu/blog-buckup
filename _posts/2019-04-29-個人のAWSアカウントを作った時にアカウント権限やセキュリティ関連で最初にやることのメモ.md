---
layout: post
Categories:  ["tech"]
Description:  " 個人のAWSアカウントを作って5年くらい経ってしまったけど平成が終わる前に最初にやっておくことをメモとして残しておく。 "
Tags: ["AWS", "tech"]
date: "2019-04-29T19:42:00+09:00"
title: "個人のAWSアカウントを作った時にアカウント権限やセキュリティ関連で最初にやることのメモ"
author: "dshimizu"
archive: ["2019"]
draft: "true"
---

<body>
<p>個人の<a class="keyword" href="http://d.hatena.ne.jp/keyword/AWS">AWS</a>アカウントを作って5年くらい経ってしまったけど平成が終わる前に最初にやっておくことをメモとして残しておく。</p>
</body>

<!-- more -->

<body>
<ul>
    <li>IAMの調整</li>
<ul>
    <li>ルートアクセスキーの削除</li>
    <li>ルートアカウントのMFA設定</li>
    <li>パスワードポリシーの設定</li>
    <li>IAM User ・ Group の設定/権限の制御</li>
※<a target="_brank" rel="noopener noreferrer" href="https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/best-practices.html">IAM のベストプラクティス - AWS Identity and Access Management</a>をもとに設定する。</ul>
    <li>CloudTrailの有効化</li>
    <li>
<a class="keyword" href="http://d.hatena.ne.jp/keyword/AWS">AWS</a> Configの有効化</li>
    <li>GuardDutyの有効化</li>
</ul>


<h3>最初にやること</h3>


<h4>IAMの調整</h4>


<p>マネジメントコンソールにログインし、IAMの設定画面に遷移する。</p>

<p>2019/4時点では「<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%C0%A5%C3%A5%B7%A5%E5">ダッシュ</a>ボード」に「セキュリティステータス」が表示されているので、これのチェックがOKになるように設定する。</p>

<h5>ルートアクセスキーの削除</h5>


<ol>
    <li>2019/4時点では「<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%C0%A5%C3%A5%B7%A5%E5">ダッシュ</a>ボード」に「セキュリティステータス」欄の「ルートアクセスキーの削除」を開くと「セキュリティ認証情報の管理」ボタンが出てくるので、これを押下する。</li>
    <li>セキュリティ認証情報ページにアクセスしようとしている旨のメニューが出るが、「Continue Security Credentials」を押下する。</li>
    <li>「アクセスキー (アクセスキー ID とシークレットアクセスキー)」を開き、アクセスキーを削除する。</li>
</ol>


<h5>ルートアカウントのMFA設定</h5>


<p>多要素認証によりセキュアになるが、仮想MFAデ<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%D0%A5%A4%A5%B9">バイス</a>を紛失したりするとサポート問い合わせ行きになるので注意。</p>

<ul>
    <li><a target="_brank" rel="noopener noreferrer" href="https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/id_root-user.html">AWS アカウントのルートユーザー - AWS Identity and Access Management</a></li>
    <li><a target="_brank" rel="noopener noreferrer" href="https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/id_credentials_mfa_lost-or-broken.html">MFA デバイスの紛失および故障時の対応 - AWS Identity and Access Management</a></li>
</ul>


<h5>パスワードポリシーの設定</h5>


<p>IAMの設定画面の左メニューから「アカウント設定」を選択し、下記を決める必要がある。</p>

<ul>
    <li>パスワードの最小長</li>
    <li>少なくとも 1 つの大文字が必要</li>
    <li>少なくとも 1 つの小文字が必要</li>
    <li>少なくとも 1 つの数字が必要</li>
    <li>少なくとも 1 つの英数字以外の文字が必要</li>
    <li>ユーザーにパスワードの変更を許可</li>
    <li>パスワードの失効を許可</li>
    <li>パスワードの有効期間（日数）</li>
    <li>パスワードの再利用を禁止</li>
    <li>記憶するパスワードの数</li>
</ul>


<h5>IAM User ・ Group の設定/権限の制御</h5>


<ul>
    <li><a target="_brank" rel="noopener noreferrer" href="https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/id_users_create.html">AWS アカウントでの IAM ユーザーの作成 - AWS Identity and Access Management</a></li>
    <li><a target="_brank" rel="noopener noreferrer" href="https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/id_groups_create.html">IAM グループの作成 - AWS Identity and Access Management</a></li>
</ul>


<h4>CloudTrailの有効化</h4>


<ul>
    <li><a target="_brank" rel="noopener noreferrer" href="https://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/cloudtrail-getting-started.html">コンソールによる AWS Config の設定 - AWS Config</a></li>
</ul>


<h4>
<a class="keyword" href="http://d.hatena.ne.jp/keyword/AWS">AWS</a> Configの有効化</h4>


<ul>
    <li><a target="_brank" rel="noopener noreferrer" href="https://docs.aws.amazon.com/ja_jp/config/latest/developerguide/gs-console.html">CloudTrail の使用開始 - AWS CloudTrail</a></li>
</ul>


<h4>GuardDutyの有効化</h4>


<ul>
    <li><a target="_brank" rel="noopener noreferrer" href="https://docs.aws.amazon.com/ja_jp/guardduty/latest/ug/guardduty_data-sources.html">Amazon GuardDuty でデータソースを使用する方法 - Amazon GuardDuty</a></li>
</ul>


<h3>参考</h3>


<ul>
    <li><a target="_brank" rel="noopener noreferrer" href="https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/best-practices.html">IAM のベストプラクティス - AWS Identity and Access Management</a></li>
    <li><a target="_brank" rel="noopener noreferrer" href="https://www.slideshare.net/NobuhiroNakayama/jawsug2aws-50630885">JAWS-UG初心者支部#2　AWSでアカウント作ったら最初にやるべきこと</a></li>
</ul>

</body>
