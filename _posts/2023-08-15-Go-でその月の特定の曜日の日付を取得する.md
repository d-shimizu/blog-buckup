---
title: "Go でその月の特定の曜日の日付を取得する"
date: 2023-08-15
slug: "Go でその月の特定の曜日の日付を取得する"
category: blog
tags: [Go]
---
<h2 id="はじめに">はじめに</h2>

<p>Go でその月の特定の曜日のすべての日付を取得したかったので調べました。</p>

<h2 id="サンプルコード">サンプルコード</h2>

<p>time パッケージを使えば取得できそうでした。
下記は、実行した月のすべての月曜日の日付を取得する場合のサンプルコードです。</p>

<pre class="code lang-go" data-lang="go" data-unlink><span class="synStatement">package</span> main

<span class="synStatement">import</span> (
    <span class="synConstant">&quot;fmt&quot;</span>
    <span class="synConstant">&quot;time&quot;</span>
)

<span class="synStatement">func</span> GetAllMondayOfMonth(year <span class="synType">int</span>, month time.Month) []time.Time {
    <span class="synStatement">var</span> mondayOfMonth []time.Time

    <span class="synComment">// 指定された年と月の初日を取得する</span>
    firstDayOfMonth := time.Date(year, month, <span class="synConstant">1</span>, <span class="synConstant">0</span>, <span class="synConstant">0</span>, <span class="synConstant">0</span>, <span class="synConstant">0</span>, time.UTC)

    <span class="synComment">// その月の最終日を取得する</span>
    nextMonthFirstDay := firstDayOfMonth.AddDate(<span class="synConstant">0</span>, <span class="synConstant">1</span>, <span class="synConstant">0</span>)
    lastDayOfMonth := nextMonthFirstDay.AddDate(<span class="synConstant">0</span>, <span class="synConstant">0</span>, -<span class="synConstant">1</span>)

    <span class="synComment">// 初日から最終日まで1日ずつループして、月曜日を取得する</span>
    <span class="synStatement">for</span> d := firstDayOfMonth; d.Before(lastDayOfMonth.AddDate(<span class="synConstant">0</span>, <span class="synConstant">0</span>, <span class="synConstant">1</span>)); d = d.AddDate(<span class="synConstant">0</span>, <span class="synConstant">0</span>, <span class="synConstant">1</span>) {
        <span class="synStatement">if</span> d.Weekday() == time.Monday {
            mondayOfMonth = <span class="synStatement">append</span>(mondayOfMonth, d)
        }
    }

    <span class="synStatement">return</span> mondayOfMonth
}

<span class="synStatement">func</span> main() {
    nowDate := time.Now()
    year := nowDate.Year()
    month := nowDate.Month()

    allMondayOfMonth := GetAllMondayOfMonth(year, month)
    <span class="synStatement">for</span> _, monday := <span class="synStatement">range</span> allMondayOfMonth {
        fmt.Printf(<span class="synConstant">&quot;%s</span><span class="synSpecial">\n</span><span class="synConstant">&quot;</span>, monday.Format(<span class="synConstant">&quot;2006-01-02&quot;</span>))
    }
}
</pre>


<p>実行してみます。</p>

<pre class="code" data-lang="" data-unlink>% go run main.go
2023-08-07
2023-08-14
2023-08-21
2023-08-28</pre>


<h2 id="参考">参考</h2>

<ul>
<li><a href="https://pkg.go.dev/time">time package - time - Go Packages</a></li>
</ul>


