---
layout: post
Categories:  ["tech"]
Description:  " はじめに  Red Hat Enterprise Linux互換のオープンソースのOSであるCentOSの最新版「CentOS 7」が公開されました。      Manuals/ReleaseNotes/CentOS7 - CentOS "
Tags: ["CentOS", "さくらのVPS", "CentOS 7"]
date: "2014-07-21T23:19:00+09:00"
title: "CentOS 7.0のリリースとさくらのVPSへISOイメージアップロードでのインストール"
author: "dshimizu"
archive: ["2014"]
draft: "true"
---

<body>
<h4>はじめに</h4>
<p><a class="keyword" href="http://d.hatena.ne.jp/keyword/Red%20Hat%20Enterprise%20Linux">Red Hat Enterprise Linux</a>互換の<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%AA%A1%BC%A5%D7%A5%F3%A5%BD%A1%BC%A5%B9">オープンソース</a>のOSである<a class="keyword" href="http://d.hatena.ne.jp/keyword/CentOS">CentOS</a>の最新版「<a class="keyword" href="http://d.hatena.ne.jp/keyword/CentOS">CentOS</a> 7」が公開されました。 </p>
<ul>  <li><a href="http://wiki.centos.org/Manuals/ReleaseNotes/CentOS7">Manuals/ReleaseNotes/CentOS7 - CentOS Wiki</a></li>
</ul>
<a name="more"></a><p>6月10日にリリースされた<a class="keyword" href="http://d.hatena.ne.jp/keyword/RHEL">RHEL</a> 7から約1カ月遅れでの公開であり、2014年1月に<a class="keyword" href="http://d.hatena.ne.jp/keyword/RedHat">RedHat</a>は<a class="keyword" href="http://d.hatena.ne.jp/keyword/CentOS">CentOS</a>プロジェクトを支援していくことを表明し、<a class="keyword" href="http://d.hatena.ne.jp/keyword/RedHat">RedHat</a>社の社員をプロジェクトのメンバーに迎え入れるなどの開発体制強化の影響かも知れません。 </p>
<p>主な新機能は以下のようです </p>
<ul>  <li><a href="http://wiki.centos.org/Manuals/ReleaseNotes/CentOS7#head-b02657cf2e223edb2d7946cbc45086d42c2bb41b">5. Major Changes - CentOS 7.0.1406 Release Notes</a></li>  <ul>    <li>
<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%AB%A1%BC%A5%CD%A5%EB">カーネル</a>3.10.0へのアップデート</li>    <li>
<a class="keyword" href="http://d.hatena.ne.jp/keyword/Linux">Linux</a>コンテナのサポート</li>    <li>Open <a class="keyword" href="http://d.hatena.ne.jp/keyword/VMware">VMware</a> Toolsと3Dグラフィックドライバの提供</li>    <li>デフォルト<a class="keyword" href="http://d.hatena.ne.jp/keyword/JDK">JDK</a>がOpenJDK7</li>    <li>6.5から7.0へのアップグレード (まだ未対応？ - 参考: <a href="https://www.centos.org/forums/viewtopic.php?f=47&amp;t=47079">In place Upgrade CentOS 6.5 to 7.0 how to.</a>)</li>    <li>
<a class="keyword" href="http://d.hatena.ne.jp/keyword/ext4">ext4</a>のとXFSとLVMのスナップショット</li>    <li>systemd,firewalld,GRUB2への変更</li>    <li>デフォルト<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%D5%A5%A1%A5%A4%A5%EB%A5%B7%A5%B9%A5%C6%A5%E0">ファイルシステム</a>としてのXFS</li>    <li>
<a class="keyword" href="http://d.hatena.ne.jp/keyword/iSCSI">iSCSI</a>およびFCoE</li>    <li>PTPv2のサポート </li>    <li>40G<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%A4%A1%BC%A5%B5%A5%CD%A5%C3%A5%C8">イーサネット</a>カードのサポート</li>    <li>互換性のあるハードウェア上での<a class="keyword" href="http://d.hatena.ne.jp/keyword/UEFI">UEFI</a>セキュアブートでのインストールのサポート</li>  </ul>
</ul> <p>さくらの<a class="keyword" href="http://d.hatena.ne.jp/keyword/VPS">VPS</a>へインストールしてみました。 </p> <h4>さくらの<a class="keyword" href="http://d.hatena.ne.jp/keyword/VPS">VPS</a>へのインストール</h4>
<p>以下にISOイメージインストール機能を使って<a class="keyword" href="http://d.hatena.ne.jp/keyword/CentOS">CentOS</a> 7をインストールします。 </p> <h5>
<a class="keyword" href="http://d.hatena.ne.jp/keyword/CentOS">CentOS</a> 7のISOイメージの取得</h5>
<p>ISOイメージを取得します。以下リンク先本家サイトや日本国内の<a class="keyword" href="http://d.hatena.ne.jp/keyword/FTP">FTP</a>サイトからダウンロードします。 </p>
<ul>  <li><a href="http://isoredirect.centos.org/centos/7/isos/x86_64/CentOS-7.0-1406-x86_64-DVD.iso">CentOS Mirror</a></li>
</ul> <h5>
<a class="keyword" href="http://d.hatena.ne.jp/keyword/CentOS">CentOS</a> 7のISOイメージをさくらの<a class="keyword" href="http://d.hatena.ne.jp/keyword/VPS">VPS</a>の<a class="keyword" href="http://d.hatena.ne.jp/keyword/FTP">FTP</a>サーバへアップロード</h5>
<p>以下リンク先の手順通りにISOイメージをアップロードし、ISOイメージインストールを開始します。 </p>
<ul>  <li><a href="http://support.sakura.ad.jp/manual/vps/cpanel/isoinstall.html">ISOイメージインストール（β版）｜さくらのVPS｜さくらインターネット公式サポートサイト</a></li>
</ul> <h5>メディアの起動</h5>
<p>メディアからの起動後、コンソールを表示すると以下の画面が表示されます。 Anacondaの<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%A4%A5%F3%A5%B9%A5%C8%A1%BC%A5%E9">インストーラ</a>画面がずいぶん変わっています。 </p>
<p>分かりにくいですが、デフォルトでは<code>Test this media &amp; install CentOS 7.0</code>が選択されており、そのまま起動するとメディアのテストが実行されます。 メディアテストは実行した方が良いですが、ここではスキップして<code>↑</code><code>↓</code>キーで<code>Install CentOS 7.0</code>を選択します。 </p>
<div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-D0x96diagIc/U80D4ABgKqI/AAAAAAAAAp0/YzRMgezdAt8/s1600/centos7_install_00.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-D0x96diagIc/U80D4ABgKqI/AAAAAAAAAp0/YzRMgezdAt8/s640/centos7_install_00.png"></a></div> <h5>言語の選択</h5>
<p>インストール作業時に使用する言語を選択します。 </p>
<p>デフォルトでは<code>Engilish</code>(英語)が選択されていますが、日本語の方がやりやすいので<code>↑</code><code>↓</code>キーで<code>Japanese</code>(日本語)を選択して日本語表記にします。 </p>
<div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-OOJqYtGuRBE/U80F7Nde_cI/AAAAAAAAAqA/diVFNZZnTfA/s1600/centos7_install_02.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://cdn-ak.f.st-hatena.com/images/fotolife/d/dshimizu/20220322/20220322113728.png"></a></div> <h5>インストールの概要</h5>
<p>以下のような画面になります。<br>各設定画面が順番に表示されるのではなく、設定したい項目を選択して設定を行う形になっています。順に設定を行っていきます。 </p>
<div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-CMtzJr9ezPY/U80HgveI-yI/AAAAAAAAAqM/GpINTwhBh68/s1600/centos7_install_03.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-CMtzJr9ezPY/U80HgveI-yI/AAAAAAAAAqM/GpINTwhBh68/s640/centos7_install_03.png"></a></div> <h5>地域設定</h5>
<h6>日付と時刻</h6>
<p>日付と時刻の設定を行います。<br>ここでは特にデフォルトのまま変更したい点はなかったので、このまま画面左上の<code>完了ボタン</code>を押下します。 </p>
<div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-alD3_k6Xl48/U80KBd1QFPI/AAAAAAAAAqY/Bn2_i3VLtvM/s1600/centos7_install_04.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-alD3_k6Xl48/U80KBd1QFPI/AAAAAAAAAqY/Bn2_i3VLtvM/s640/centos7_install_04.png"></a></div> <h6>キーボード</h6>
<p>キーボードの設定を行います。<br><code>日本語</code>しか選択項目がありませんので、<code>日本語</code>を選択します。 <br>キーボードレイアウトを選択したら、画面左上の<code>完了</code>ボタンを押下します。 </p>
<div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-tJqzZ7oyZm8/U80KG_QLcrI/AAAAAAAAAqg/iJqxbKdaFk8/s1600/centos7_install_05.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-tJqzZ7oyZm8/U80KG_QLcrI/AAAAAAAAAqg/iJqxbKdaFk8/s640/centos7_install_05.png"></a></div> <h6>言語サポート</h6>
<p>インストール完了後の<a class="keyword" href="http://d.hatena.ne.jp/keyword/CentOS">CentOS</a> 7.0環境で使う言語を選択します。 <br>ここでは<code>日本語</code>のみ選択します。<br>使用言語を選択したら、画面左上の<code>完了ボタン</code>を押下します。 </p>
<div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-Itu-VGggn_0/U80KKx_I11I/AAAAAAAAAqo/uWwmBlb3wI0/s1600/centos7_install_06.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://cdn-ak.f.st-hatena.com/images/fotolife/d/dshimizu/20220322/20220322113657.png"></a></div> <h5>ソフトウェア</h5>
<h6>インストールソース</h6>
<p>外部<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%EA%A5%DD%A5%B8%A5%C8%A5%EA">リポジトリ</a>の指定等を行います。<br>特に変更点はないので、このまま画面左上の<code>完了</code>ボタンを押下します。 </p>
<div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-yDtKslAPgps/U80LIyuFUPI/AAAAAAAAAq0/fMSyBVGAGTM/s1600/centos7_install_07.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://cdn-ak.f.st-hatena.com/images/fotolife/d/dshimizu/20220322/20220322113828.png"></a></div> <h6>ソフトウェアの選択</h6>
<p>インストールするソフトウェアを選択します。<br><a class="keyword" href="http://d.hatena.ne.jp/keyword/CentOS">CentOS</a> 5や6のように細かいソフトウェア選択はできなくなったようです。<br>ここでは<code>最小限のインストール</code>を選択していますが必要に応じて選択してください。<br>インストールするソフトウェアの選択が完了したら、画面左上の<code>完了ボタン</code>ボタンを押下します。 </p>
<div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-XhOhemZvpyc/U80LhYcrWVI/AAAAAAAAAq8/wR_pZD72r_8/s1600/centos7_install_08.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-XhOhemZvpyc/U80LhYcrWVI/AAAAAAAAAq8/wR_pZD72r_8/s640/centos7_install_08.png"></a></div> <h5>システム</h5>
<h6>インストール先</h6>
<p>インストール先のディスクデ<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%D0%A5%A4%A5%B9">バイス</a>を選択します。<br><code>ローカルの標準ディスク</code>に表示されている<code>Virtio Block Device</code>を選択します。 ここでは<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%D1%A1%BC%A5%C6%A5%A3%A5%B7%A5%E7%A5%F3">パーティション</a>構成として自動構成の<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%D1%A1%BC%A5%C6%A5%A3%A5%B7%A5%E7%A5%F3">パーティション</a>構成を選択しています。独自に<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%D1%A1%BC%A5%C6%A5%A3%A5%B7%A5%E7%A5%F3">パーティション</a>を構成したい場合は<code>パーティション構成を行いたい</code>を選択します。<br>画面左上の<code>完了ボタン</code>ボタンを押下します。 </p>
<div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-2AU6kOw4FfY/U80N3zHXVzI/AAAAAAAAArI/c_s_ceQcra4/s1600/centos7_install_09.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-2AU6kOw4FfY/U80N3zHXVzI/AAAAAAAAArI/c_s_ceQcra4/s640/centos7_install_09.png"></a></div>
<p>以下のような画面が表示されたら、<code>領域を確保する</code>ボタンを押下します。 </p>
<div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-eV2EdsYCTLY/U80N-pH8DEI/AAAAAAAAArQ/JNXzBZw9Q2c/s1600/centos7_install_10.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-eV2EdsYCTLY/U80N-pH8DEI/AAAAAAAAArQ/JNXzBZw9Q2c/s640/centos7_install_10.png"></a></div>
<p>既存<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%D1%A1%BC%A5%C6%A5%A3%A5%B7%A5%E7%A5%F3">パーティション</a>を削除し、領域を確保します。<br>ここでは<code>/</code>を削除して領域を確保しています。 </p>
<div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-NYwz-wpsm3s/U80bKiTzAcI/AAAAAAAAAs0/2z8a2nfgeK4/s1600/centos7_install_21.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-NYwz-wpsm3s/U80bKiTzAcI/AAAAAAAAAs0/2z8a2nfgeK4/s640/centos7_install_21.png"></a></div> <p><code>領域を確保する</code>ボタンを押下します。 </p>
<div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-LriYN8w0-W8/U80bOv56BVI/AAAAAAAAAs8/37szsWLxUpc/s1600/centos7_install_22.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://cdn-ak.f.st-hatena.com/images/fotolife/d/dshimizu/20220322/20220322113715.png"></a></div>
<p>自動で<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%D1%A1%BC%A5%C6%A5%A3%A5%B7%A5%E7%A5%F3">パーティション</a>が構成されます。 </p> <h6>ネットワークとホスト名</h6>
<p>ネットワークとホスト名の設定を行います。 <code>Ethernet(eth0)</code>を選択し、画面右下の<code>設定</code>ボタンを押下します。 </p>
<div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-HZTwoEtvut8/U80SmQLqnSI/AAAAAAAAAro/x3v91Ztk5hY/s1600/centos7_install_12.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-HZTwoEtvut8/U80SmQLqnSI/AAAAAAAAAro/x3v91Ztk5hY/s640/centos7_install_12.png"></a></div> <p><code>IPv4のセッティング</code>項目を選択します。<br><code>方式</code>で<code>手動</code>を選択し、契約しているさくらの<a class="keyword" href="http://d.hatena.ne.jp/keyword/VPS">VPS</a>の<code>IPアドレス</code>、<code>ネットマスク</code>、<code>ゲートウェイ</code>、<code>DNSサーバ</code>を入力します。<br>入力が完了したら右下の<code>保存</code>ボタンを押下します。 </p>
<div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-gUul1CNk5Js/U80SqnertOI/AAAAAAAAArw/wli1Rc_plno/s1600/centos7_install_14.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://cdn-ak.f.st-hatena.com/images/fotolife/d/dshimizu/20220322/20220322113756.png"></a></div> <p>契約しているさくらの<a class="keyword" href="http://d.hatena.ne.jp/keyword/VPS">VPS</a>のホスト名を画面左下の<code>ホスト名</code>に入力し、画面左上の<code>完了ボタン</code>ボタンを押下します。 </p>
<div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-x1FAAvZ-l2o/U80St-5ukkI/AAAAAAAAAr4/qrwRR4AQCLI/s1600/centos7_install_15.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-x1FAAvZ-l2o/U80St-5ukkI/AAAAAAAAAr4/qrwRR4AQCLI/s640/centos7_install_15.png"></a></div> <h5>インストールの開始</h5>
<p>以下のように各項目で<code>!</code>アイコンが表示されなくなったら、画面右下の<code>インストールの開始ボタン</code>を押下します。 </p>
<div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-67QSTrFhb7s/U80VcIS8WhI/AAAAAAAAAsE/JEO2R-F0_pQ/s1600/centos7_install_16.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-67QSTrFhb7s/U80VcIS8WhI/AAAAAAAAAsE/JEO2R-F0_pQ/s640/centos7_install_16.png"></a></div> <p>インストールが開始されます。<br>rootパスワードの設定とユーザ作成を完了しないとインストールが完了しませんので設定を行います。 </p>
<div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-uG2Ha2oHxq8/U80VwlzhI4I/AAAAAAAAAsM/BTJe-9f2XQ8/s1600/centos7_install_17.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-uG2Ha2oHxq8/U80VwlzhI4I/AAAAAAAAAsM/BTJe-9f2XQ8/s640/centos7_install_17.png"></a></div> <h5>rootパスワード</h5>
<p>パスワードを入力します。<br>入力が完了したら画面左上の<code>完了</code>ボタンを押下します。 </p>
<div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-my37uBaWXLU/U80V7uLWATI/AAAAAAAAAsc/tJc77sSNtI0/s1600/centos7_install_19.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-my37uBaWXLU/U80V7uLWATI/AAAAAAAAAsc/tJc77sSNtI0/s640/centos7_install_19.png"></a></div> <h5>ユーザの作成</h5>
<p>ユーザを作成します。<br>各種入力が完了したら画面左上の<code>完了</code>ボタンを押下します。 </p>
<div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-f5k4pPl5gW0/U80V3f8lX2I/AAAAAAAAAsU/5myM7HwlHck/s1600/centos7_install_18.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-f5k4pPl5gW0/U80V3f8lX2I/AAAAAAAAAsU/5myM7HwlHck/s640/centos7_install_18.png"></a></div> <h5>再起動</h5>
<p>全ての設定が完了し、インストールが完了したら画面右下の<code>再起動</code>ボタンを押下します。 </p>
<div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-KT9CXQgXJyo/U80WA42rg_I/AAAAAAAAAsk/Lspvvf-OI1k/s1600/centos7_install_20.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://cdn-ak.f.st-hatena.com/images/fotolife/d/dshimizu/20220322/20220322113702.png"></a></div> <h5>完了</h5>
<p>再起動後、以下のようにログインプロンプトが表示されれば完了です。 </p>
<div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-JyyNk7B6bsA/U80gAVKmkCI/AAAAAAAAAtI/1c315sJAxO4/s1600/centos7_install_23.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-JyyNk7B6bsA/U80gAVKmkCI/AAAAAAAAAtI/1c315sJAxO4/s640/centos7_install_23.png"></a></div> <h4>おわりに</h4>
<p>以上でさくらの<a class="keyword" href="http://d.hatena.ne.jp/keyword/VPS">VPS</a>への<a class="keyword" href="http://d.hatena.ne.jp/keyword/CentOS">CentOS</a> 7.0のインストールが完了です。<br>この状態ではrootログイン可能だったりパスワード認証可能だったりなので、まずは最低限<a class="keyword" href="http://d.hatena.ne.jp/keyword/ssh">ssh</a>の設定はした方が良いかと思います。<br>systemdの導入でサービスの管理が従来と大きく変わっていたりと使っていくにはもう少し勉強が必要そうです。 </p>
</body>

<!-- more -->


