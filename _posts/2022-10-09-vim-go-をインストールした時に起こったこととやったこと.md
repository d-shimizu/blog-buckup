---
title: "vim-go をインストールした時に起こったこととやったこと"
date: 2022-10-09
slug: "vim-go をインストールした時に起こったこととやったこと"
category: blog
tags: [Tech,Go,Vim]
---
<h2 id="はじめに">はじめに</h2>

<p>Go を触り始めたので <a class="keyword" href="https://d.hatena.ne.jp/keyword/vim">vim</a>-go をインストールした時にやったことのメモ。</p>

<h2 id="インストール">インストール</h2>

<p>公式手順に書かれているいずれかのやり方でインストールします。</p>

<p><iframe src="https://hatenablog-parts.com/embed?url=https%3A%2F%2Fgithub.com%2Ffatih%2Fvim-go%23install" title="GitHub - fatih/vim-go: Go development plugin for Vim" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;" loading="lazy"></iframe><cite class="hatena-citation"><a href="https://github.com/fatih/vim-go#install">github.com</a></cite></p>

<p>私は今の所 <a class="keyword" href="https://d.hatena.ne.jp/keyword/vim">vim</a>-plug を使っているので <code>.vimrc</code> に下記のようなことを記述し、<a class="keyword" href="https://d.hatena.ne.jp/keyword/%A5%B3%A5%DE%A5%F3%A5%C9%A5%E9%A5%A4%A5%F3">コマンドライン</a>モード(<a class="keyword" href="https://d.hatena.ne.jp/keyword/vim">vim</a>起動中に <code>:</code> を入力した状態)で <code>:PlugInstall</code> でインストールしました。</p>

<pre class="code .vimrc" data-lang=".vimrc" data-unlink>call plug#begin(&#39;~/.vim/autoload/&#39;)
Plug &#39;fatih/vim-go&#39;, { &#39;do&#39;: &#39;:GoUpdateBinaries&#39; }
call plug#end()</pre>


<h2 id="発生したエラー">発生したエラー</h2>

<h3 id="vim-go-could-not-find-gopls-Run-GoInstallBinaries-to-fix-it"><a class="keyword" href="https://d.hatena.ne.jp/keyword/vim">vim</a>-go: could not find 'gopls'. Run :GoInstallBinaries to fix it</h3>

<p><code>.go</code> 拡張子のファイルを開くと、以下のようなエラーが多発しました。</p>

<pre class="code log" data-lang="log" data-unlink>vim-go: could not find &#39;gopls&#39;. Run :GoInstallBinaries to fix it</pre>


<p>Go の Langage Server のインストールが必要なようなのでインストールします。
エラー内容にある通り <a class="keyword" href="https://d.hatena.ne.jp/keyword/vim">vim</a> の<a class="keyword" href="https://d.hatena.ne.jp/keyword/%A5%B3%A5%DE%A5%F3%A5%C9%A5%E9%A5%A4%A5%F3">コマンドライン</a>モードで <code>:GoInstallBinaries</code> を実行してインストールしました。 (<code>go get golang.org/x/tools/gopls</code> でもいけるのかもしれないけど試していない)
なお、 Go のバージョンが古いと上記のコマンドによるダウンロードが失敗するようなので、Go のバージョンを上げます。</p>

<h3 id="go-拡張子のファイルを新規に開いた時のデフォルト出力">.go 拡張子のファイルを新規に開いた時のデフォルト出力</h3>

<p>新規に <code>main.go</code> のファイルや  <code>.go</code> 拡張子を作成した時に、下記の内容が自動で記述された状態になります。</p>

<ul>
<li><code>main.go</code></li>
</ul>


<pre class="code lang-go" data-lang="go" data-unlink><span class="synStatement">package</span> main

<span class="synStatement">import</span> <span class="synConstant">&quot;fmt&quot;</span>

<span class="synStatement">func</span> main() {
    fmt.Println(<span class="synConstant">&quot;vim-go&quot;</span>)
}
</pre>


<ul>
<li><code>xxx.go</code></li>
</ul>


<pre class="code lang-go" data-lang="go" data-unlink><span class="synStatement">package</span> main
</pre>


<p><code>.vimrc</code> 下記を記述して無効化します。</p>

<pre class="code" data-lang="" data-unlink>let g:go_template_autocreate = 0</pre>


<h2 id="参考">参考</h2>

<ul>
<li><a href="https://qiita.com/donko_/items/fb2f8ab19120b09c4008">vim-go&#x3092;&#x4F7F;&#x3063;&#x3066;&#x307F;&#x305F; #Mac - Qiita</a></li>
</ul>


