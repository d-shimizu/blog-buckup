---
layout: post
Categories:  ["tech"]
Description:  " はじめに  前回は、2つのさくらのVPSのCentOS環境を用意して、1台にChef-Server、及びWorkstation環境を、もう1台にNode環境をセットアップしました。   今回はこれらの環境を利用して、Cookbooks、R"
Tags: ["CentOS", "さくらのVPS", "Chef"]
date: "2013-05-18T03:32:00+09:00"
title: "さくらのVPSのCentOS 6.4環境でChef 11を使ってみる [Cookbook, Recipeの作成 と Nodeへの設定反映]"
author: "dshimizu"
archive: ["2013"]
draft: false
---

<body>
<h4>はじめに</h4>
<p><a href="http://kanjuku-tomato.blogspot.jp/2013/04/vpscentos-64chef-11-server-workstation.html">前回</a>は、2つのさくらの<a class="keyword" href="http://d.hatena.ne.jp/keyword/VPS">VPS</a>の<a class="keyword" href="http://d.hatena.ne.jp/keyword/CentOS">CentOS</a>環境を用意して、1台にChef-Server、及びWorkstation環境を、もう1台にNode環境をセットアップしました。 </p>
<a name="more"></a><p>今回はこれらの環境を利用して、Cookbooks、Recipe作成し、Nodeへ設定を適用する動作を確認してみます。<br>具体的には、単純に1台のNodeに対して、<a class="keyword" href="http://d.hatena.ne.jp/keyword/iptables">iptables</a>の設定ファイルを適用するという内容から、ChefのServer / Client構成の動作を確認することを主目的とします。<br>※Cookbook、Recipeの作成について細かい内容について説明していません。 </p> <h4>Nodeの登録とCookbookの作成/Recipeの実行環境構築</h4>
<h5>環境</h5>
<p>上述の通り、今回は2台のマシンを用います。1台は前回セットアップしたChef Server兼Workstation環境で、もう1台がNodeと呼ばれるChefによる構成管理対象のClient環境です。<br>いずれも<a class="keyword" href="http://d.hatena.ne.jp/keyword/CentOS">CentOS</a> 6.4環境です。 </p>
<h6>Chef Server, Client(Workstation)環境</h6>
<table>  <tr>    <td bgcolor="#cccccc">プラットフォーム</td>    <td>さくらの<a class="keyword" href="http://d.hatena.ne.jp/keyword/VPS">VPS</a>(1G <a class="keyword" href="http://d.hatena.ne.jp/keyword/SSD">SSD</a>モデル)</td>  </tr>  <tr>    <td bgcolor="#cccccc">OS</td>    <td>
<a class="keyword" href="http://d.hatena.ne.jp/keyword/CentOS">CentOS</a> 6.4 <a class="keyword" href="http://d.hatena.ne.jp/keyword/x86">x86</a>_64 (64bit)</td>  </tr>  <tr>    <td bgcolor="#cccccc">ホスト名</td>    <td>hoge01(.sakura.ne.jp) (仮称)</td>  </tr>
</table>
<br><h6>Node環境</h6>
<table>
<tr>  <td bgcolor="#cccccc">プラットフォーム</td>  <td>さくらの<a class="keyword" href="http://d.hatena.ne.jp/keyword/VPS">VPS</a>(512モデル)</td>
</tr>
<tr>  <td bgcolor="#cccccc">OS</td>  <td>
<a class="keyword" href="http://d.hatena.ne.jp/keyword/CentOS">CentOS</a> 6.4 <a class="keyword" href="http://d.hatena.ne.jp/keyword/x86">x86</a>_64 (64bit)</td>
</tr>
<tr>  <td bgcolor="#cccccc">ホスト名</td>  <td>hoge02(.sakura.ne.jp) (仮称)</td>
</tr>
</table> <h5>Chef<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%EA%A5%DD%A5%B8%A5%C8%A5%EA">リポジトリ</a>の取得</h5>
<p>まず、Workstation(hoge01.sakura.ne.jp)へChefの<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%EA%A5%DD%A5%B8%A5%C8%A5%EA">リポジトリ</a>を準備する必要があります。 </p>
<ul>  <li><a href="http://docs.opscode.com/essentials_repository.html">About the Repository — Chef Docs</a></li>
</ul>
<p><a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%EA%A5%DD%A5%B8%A5%C8%A5%EA">リポジトリ</a>にはChefの実行に必要なファイル(Cookbooks, role, environments…)が含まれており、KnifeコマンドでChef Serverへ<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%EA%A5%DD%A5%B8%A5%C8%A5%EA">リポジトリ</a>のデータをアップロードしてNodeの管理に利用します。<br>なおこの<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%EA%A5%DD%A5%B8%A5%C8%A5%EA">リポジトリ</a>はGitや<a class="keyword" href="http://d.hatena.ne.jp/keyword/Subversion">Subversion</a>などの<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%D0%A1%BC%A5%B8%A5%E7%A5%F3%B4%C9%CD%FD%A5%B7%A5%B9%A5%C6%A5%E0">バージョン管理システム</a>で管理することが推奨されていますが、ここではその設定は省きます。 </p>
<p>雛型レポジトリが <a class="keyword" href="http://d.hatena.ne.jp/keyword/Github">Github</a> で公開されていますので、これを取得します。ここでは/usr/local/src以下に配置します。 </p>
<pre class="terminal">  # cd /usr/local/src  
</pre>
<pre class="terminal">  # git clone https://github.com/opscode/chef-repo  </pre> <h5>Cookbook作成</h5>
<p>Workstation(hoge01.sakura.ne.jp)上からknfieコマンドを実行して、Cookbookを作成します。CookbooksはRecipeやtemplateなどの設定情報です。<br></p>
<ul>  <li><a href="http://docs.opscode.com/essentials_cookbooks.html">About Cookbooks — Chef Docs</a></li>
</ul>
<p>ファイル名はcentos6_<a class="keyword" href="http://d.hatena.ne.jp/keyword/iptables">iptables</a>としています。Cookbookの<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%C7%A5%A3%A5%EC%A5%AF%A5%C8">ディレクト</a>リはデフォルトでは/var/chef/cookbooks以下に作成されるようですが、-oオプションで作成先を指定できます。ここでは、先ほど取得した<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%EA%A5%DD%A5%B8%A5%C8%A5%EA">リポジトリ</a>内の/usr/local/src/chef-repo/cookbooks以下に作成します、 </p>
<pre class="terminal">  # knife cookbook create centos6_iptables -o /usr/local/src/chef-repo/cookbooks ** Creating cookbook centos6_iptables ** Creating README for cookbook: centos6_iptables ** Creating CHANGELOG for cookbook: centos6_iptables ** Creating metadata for cookbook: centos6_iptables  </pre> <h5>Recipeの作成</h5>
<p>Workstation(hoge01.sakura.ne.jp)上でRecipeのファイルを作成します。Recipeはサーバの設定内容やNodeへの反映処理を<a class="keyword" href="http://d.hatena.ne.jp/keyword/Ruby">Ruby</a>で記述したファイル類です。 </p>
<ul>  <li><a href="http://docs.opscode.com/essentials_cookbook_recipes.html">About Recipes — Chef Docs</a></li>
</ul>
<p>ここでは、CentOS6のFW(<a class="keyword" href="http://d.hatena.ne.jp/keyword/iptables">iptables</a>)の設定ファイルを作成することにします。 </p>
<p>まず、/usr/local/src/chef-repo/cookbooks/centos6_<a class="keyword" href="http://d.hatena.ne.jp/keyword/iptables">iptables</a>/templates/default以下に設定ファイルの雛形を作成します。<br>※<a class="keyword" href="http://d.hatena.ne.jp/keyword/IP%A5%A2%A5%C9%A5%EC%A5%B9">IPアドレス</a>の箇所は適宜読み替えてください。 </p>
<pre class="terminal">  # cd /usr/local/src/chef-repo/cookbooks/centos6_iptables/templates/default  
</pre>
<pre class="terminal">  # vim iptables *filter :INPUT DROP [0:0] :FORWARD DROP [0:0] :OUTPUT ACCEPT [88:5535] :LOG_PINGDEATH - [0:0] -A INPUT -i lo -j ACCEPT -A INPUT -s XXX.XXX.XXX.0/23 -j ACCEPT -A INPUT -m state --state RELATED,ESTABLISHED -j ACCEPT -A INPUT -f -j LOG --log-prefix "[IPTABLES FRAGMENT] : " -A INPUT -f -j DROP -A INPUT ! -s XXX.XXX.XXX.0/23 -p tcp -m multiport --dports 135,137,138,139,445 -j DROP -A INPUT ! -s XXX.XXX.XXX.0/23 -p udp -m multiport --dports 135,137,138,139,445 -j DROP -A INPUT -p icmp -m icmp --icmp-type 8 -j LOG_PINGDEATH -A INPUT -d 255.255.255.255/32 -j DROP -A INPUT -d 224.0.0.1/32 -j DROP -A INPUT -p tcp -m tcp --dport 22 -j ACCEPT -A INPUT -p tcp -m tcp --dport 80 -j ACCEPT -A INPUT -p tcp -m tcp --dport 443 -j ACCEPT -A INPUT -m limit --limit 1/sec -j LOG --log-prefix "[IPTABLES INPUT] : " -A INPUT -j DROP -A INPUT -s 10.0.0.0/8 -i eth0 -j DROP -A INPUT -s 172.16.0.0/12 -i eth0 -j DROP -A INPUT -s 192.168.0.0/16 -i eth0 -j DROP -A INPUT -d 10.0.0.0/8 -i eth0 -j DROP -A INPUT -d 172.16.0.0/12 -i eth0 -j DROP -A INPUT -d 192.168.0.0/16 -i eth0 -j DROP -A INPUT -d 255.255.255.255/32 -i eth0 -j DROP -A INPUT -d 224.0.0.1/32 -i eth0 -j DROP -A FORWARD -m limit --limit 1/sec -j LOG --log-prefix "[IPTABLES FORWARD] : " -A FORWARD -j DROP -A OUTPUT ! -d XXX.XXX.XXX.0/23 -p tcp -m multiport --sports 135,137,138,139,445 -j DROP -A OUTPUT ! -d XXX.XXX.XXX.0/23 -p udp -m multiport --sports 135,137,138,139,445 -j DROP -A LOG_PINGDEATH -m limit --limit 1/sec --limit-burst 4 -j ACCEPT -A LOG_PINGDEATH -j LOG --log-prefix "[IPTABLES PINGDEATH] : " -A LOG_PINGDEATH -j DROP COMMIT  
</pre>
<p>/usr/local/src/chef-repo/cookbooks/centos6_<a class="keyword" href="http://d.hatena.ne.jp/keyword/iptables">iptables</a>/recipes以下にRecipeのファイルを作成します。<br>デフォルトでdefault.rbというファイルがありますがこれは修正せず、別途<a class="keyword" href="http://d.hatena.ne.jp/keyword/iptables">iptables</a>.rbというファイルを以下の内容で作成します。<br>これは上記で作成した<a class="keyword" href="http://d.hatena.ne.jp/keyword/iptables">iptables</a>というTemplateファイルを用いて、/etc/sysconfig/<a class="keyword" href="http://d.hatena.ne.jp/keyword/iptables">iptables</a>というファイルをユーザ/グループをroot、<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%D1%A1%BC%A5%DF%A5%C3%A5%B7%A5%E7%A5%F3">パーミッション</a>0を600で生成し、その後<a class="keyword" href="http://d.hatena.ne.jp/keyword/iptables">iptables</a>を再起動する、というRecipeです。 </p>
<pre class="terminal">  # cd /usr/local/src/chef-repo/cookbooks/centos6_iptables/recipes  
</pre>
<pre class="terminal">  # vim iptables.rb template "/etc/sysconfig/iptables" do   source "iptables"   group "root"   owner "root"   mode "0600" end  service "iptables" do   supports :status =&gt; true, :restart =&gt; true   action [ :enable, :start ] end  
</pre>
<p>/usr/local/src/chef-repo/cookbooks/centos6_<a class="keyword" href="http://d.hatena.ne.jp/keyword/iptables">iptables</a>以下に、NodeからChef Serverに対してchef-clientコマンドによる<a class="keyword" href="http://d.hatena.ne.jp/keyword/API">API</a>が実行された際に適用するレシピが<a class="keyword" href="http://d.hatena.ne.jp/keyword/JSON">JSON</a>形式で定義されたファイルを作成します。<br>run_listはNodeに対して適用するRecipeを指定したリストを指し、その中の"recipe[centos6_<a class="keyword" href="http://d.hatena.ne.jp/keyword/iptables">iptables</a>::<a class="keyword" href="http://d.hatena.ne.jp/keyword/iptables">iptables</a>]"はcentos6_<a class="keyword" href="http://d.hatena.ne.jp/keyword/iptables">iptables</a>というCookbookのrecipes/<a class="keyword" href="http://d.hatena.ne.jp/keyword/iptables">iptables</a>.rbというファイルの内容を実行する、という内容を表します。 </p>
<pre class="terminal">  # cd /usr/local/src/chef-repo/cookbooks/centos6_iptables/recipes  
</pre>
<pre class="terminal">  # vim iptables.json {   "run_list": [     "recipe[centos6_iptables::iptables]"   ] }  
</pre>
<p>以上で、Cookbook、Recipeの作成は完了です。 </p>
<h6>Cookbookのアップロード</h6>
<p>Workstation(hoge01.sakura.ne.jp)からChef Server(hoge01.sakura.ne.jp)へ、作成したCookbookをアップロードして登録します。 ※ここではChef ServerとWorkstationは同一のサーバです。 </p>
<pre class="terminal">  # knife cookbook upload -a -o /usr/local/src/chef-repo/cookbooks Uploading centos6_iptables [0.1.2] Uploaded all cookbooks.  </pre>Cookbook、RecipeがChef Serverへ登録されていることを確認します。 <pre class="terminal">  # knife cookbook list centos6_iptables   0.1.0  
</pre>
<pre class="terminal">  # knife recipe list centos6_iptables::iptables  </pre> <h6>NodeへのRecipe追加</h6>
<p>Chef Server(hoge01.sakura.ne.jp)へ登録したCookbookのRecipeを、適用したいNode(hoge02.sakura.ne.jp)へ追加します。 </p>
<pre class="terminal">  # knife node run_list add hoge2.sakura.ne.jp "recipe[centos6_iptables::iptables]" hoge2.sakura.ne.jp:   run_list:     recipe[centos6_iptables]     recipe[centos6_iptables::iptables]  
</pre>
<p>Workstaton(hoge01.sakura.ne.jp)上からNode(hoge02.sakura.ne.jp)の状態を確認し、Recipeが登録されていることを確認します。 </p>
<pre class="terminal">  # knife node show hoge2.sakura.ne.jp Node Name:   hoge2.sakura.ne.jp Environment: _default FQDN:        hoge2.sakura.ne.jp IP:          XXX.XXX.XXX.XXX Run List:    recipe[centos6_iptables::iptables] Roles: Recipes:    centos6_iptables::iptables Platform:    centos 6.4 Tags:  </pre> <h5>Recipeの実行</h5>
<p>Node(hoge02.sakura.ne.jp)からchef-clientコマンドを実行し、Recipeの内容をNodeへ反映します。 </p>
<pre class="terminal">  % sudo chef-client Starting Chef Client, version 11.4.4 [2013-05-18T02:30:12+09:00] INFO: *** Chef 11.4.4 *** [2013-05-18T02:30:12+09:00] INFO: [inet6] no default interface, picking the first ipaddress [2013-05-18T02:30:13+09:00] INFO: Run List is [recipe[centos6_iptables], recipe[centos6_iptables::iptables]] [2013-05-18T02:30:13+09:00] INFO: Run List expands to [centos6_iptables, centos6_iptables::iptables] [2013-05-18T02:30:13+09:00] INFO: Starting Chef Run for hoge2.sakura.ne.jp [2013-05-18T02:30:13+09:00] INFO: Running start handlers [2013-05-18T02:30:13+09:00] INFO: Start handlers complete. resolving cookbooks for run list: ["centos6_iptables", "centos6_iptables::iptables"] [2013-05-18T02:30:13+09:00] INFO: Loading cookbooks [centos6_iptables] Synchronizing Cookbooks:   - centos6_iptables Compiling Cookbooks... Converging 2 resources Recipe: centos6_iptables::iptables   * template[/etc/sysconfig/iptables] action create[2013-05-18T02:30:13+09:00] INFO: Processing template[/etc/sysconfig/iptables] action create (centos6_iptables::iptables line 1) [2013-05-18T02:30:13+09:00] INFO: template[/etc/sysconfig/iptables] updated content [2013-05-18T02:30:13+09:00] INFO: template[/etc/sysconfig/iptables] owner changed to 0 [2013-05-18T02:30:13+09:00] INFO: template[/etc/sysconfig/iptables] group changed to 0 [2013-05-18T02:30:13+09:00] INFO: template[/etc/sysconfig/iptables] mode changed to 600      - create template[/etc/sysconfig/iptables]         --- /tmp/chef-tempfile20130518-17671-jz7mdd     2013-05-18 02:30:13.497129975 +0900         +++ /tmp/chef-rendered-template20130518-17671-19zoijp   2013-05-18 02:30:13.497129975 +0900         @@ -0,0 +1,57 @@         +*filter         +:INPUT DROP [0:0]         +:FORWARD DROP [0:0]         +:OUTPUT ACCEPT [88:5535]         +:LOG_PINGDEATH - [0:0]         +-A INPUT -i lo -j ACCEPT         +-A INPUT -s XXX.XXX.XXX.0/23 -j ACCEPT         +-A INPUT -m state --state RELATED,ESTABLISHED -j ACCEPT         +-A INPUT -f -j LOG --log-prefix "[IPTABLES FRAGMENT] : "         +-A INPUT -f -j DROP         +-A INPUT ! -s XXX.XXX.XXX.0/23 -p tcp -m multiport --dports 135,137,138,139,445 -j DROP         +-A INPUT ! -s XXX.XXX.XXX.0/23 -p udp -m multiport --dports 135,137,138,139,445 -j DROP         +-A INPUT -p icmp -m icmp --icmp-type 8 -j LOG_PINGDEATH         +-A INPUT -d 255.255.255.255/32 -j DROP         +-A INPUT -d 224.0.0.1/32 -j DROP         +-A INPUT -p tcp -m tcp --dport 22 -j ACCEPT         +-A INPUT -p tcp -m tcp --dport 80 -j ACCEPT         +-A INPUT -p tcp -m tcp --dport 443 -j ACCEPT         +-A INPUT -m limit --limit 1/sec -j LOG --log-prefix "[IPTABLES INPUT] : "         +-A INPUT -j DROP         +-A INPUT -s 10.0.0.0/8 -i eth0 -j DROP         +-A INPUT -s 172.16.0.0/12 -i eth0 -j DROP         +-A INPUT -s 192.168.0.0/16 -i eth0 -j DROP         +-A INPUT -d 10.0.0.0/8 -i eth0 -j DROP         +-A INPUT -d 172.16.0.0/12 -i eth0 -j DROP         +-A INPUT -d 192.168.0.0/16 -i eth0 -j DROP         +-A INPUT -d 255.255.255.255/32 -i eth0 -j DROP         +-A INPUT -d 224.0.0.1/32 -i eth0 -j DROP         +-A FORWARD -m limit --limit 1/sec -j LOG --log-prefix "[IPTABLES FORWARD] : "         +-A FORWARD -j DROP         +-A OUTPUT ! -d XXX.XXX.XXX.0/23 -p tcp -m multiport --sports 135,137,138,139,445 -j DROP         +-A OUTPUT ! -d XXX.XXX.XXX.0/23 -p udp -m multiport --sports 135,137,138,139,445 -j DROP         +-A LOG_PINGDEATH -m limit --limit 1/sec --limit-burst 4 -j ACCEPT         +-A LOG_PINGDEATH -j LOG --log-prefix "[IPTABLES PINGDEATH] : "         +-A LOG_PINGDEATH -j DROP         +COMMIT    * service[iptables] action enable[2013-05-18T02:30:13+09:00] INFO: Processing service[iptables] action enable (centos6_iptables::iptables line 8)  (up to date)   * service[iptables] action restart[2013-05-18T02:30:13+09:00] INFO: Processing service[iptables] action restart (centos6_iptables::iptables line 8) [2013-05-18T02:30:15+09:00] INFO: service[iptables] restarted      - restart service service[iptables]  [2013-05-18T02:30:15+09:00] INFO: Chef Run complete in 1.948886938 seconds [2013-05-18T02:30:15+09:00] INFO: Running report handlers [2013-05-18T02:30:15+09:00] INFO: Report handlers complete Chef Client finished, 2 resources updated  
</pre>
<p>Node(hoge02.sakura.ne.jp)上から、<a class="keyword" href="http://d.hatena.ne.jp/keyword/iptables">iptables</a>の設定が反映されていることを確認します。 </p>
<pre class="terminal">  % sudo service iptables status Table: filter Chain INPUT (policy DROP) num  target     prot opt source               destination 1    ACCEPT     all  --  0.0.0.0/0            0.0.0.0/0 2    ACCEPT     all  --  XXX.XXX.XXX.0/23      0.0.0.0/0 3    ACCEPT     all  --  0.0.0.0/0            0.0.0.0/0           state RELATED,ESTABLISHED 4    LOG        all  -f  0.0.0.0/0            0.0.0.0/0           LOG flags 0 level 4 prefix `[IPTABLES FRAGMENT] : ' 5    DROP       all  -f  0.0.0.0/0            0.0.0.0/0 6    DROP       tcp  -- !XXX.XXX.XXX.0/23      0.0.0.0/0           multiport dports 135,137,138,139,445 7    DROP       udp  -- !XXX.XXX.XXX.0/23      0.0.0.0/0           multiport dports 135,137,138,139,445 8    LOG_PINGDEATH  icmp --  0.0.0.0/0            0.0.0.0/0           icmp type 8 9    DROP       all  --  0.0.0.0/0            255.255.255.255 10   DROP       all  --  0.0.0.0/0            224.0.0.1 11   ACCEPT     tcp  --  0.0.0.0/0            0.0.0.0/0           tcp dpt:22 12   ACCEPT     tcp  --  0.0.0.0/0            0.0.0.0/0           tcp dpt:80 13   ACCEPT     tcp  --  0.0.0.0/0            0.0.0.0/0           tcp dpt:443 14   LOG        all  --  0.0.0.0/0            0.0.0.0/0           limit: avg 1/sec burst 5 LOG flags 0 level 4 prefix `[IPTABLES INPUT] : ' 15   DROP       all  --  0.0.0.0/0            0.0.0.0/0 16   DROP       all  --  10.0.0.0/8           0.0.0.0/0 17   DROP       all  --  172.16.0.0/12        0.0.0.0/0 18   DROP       all  --  192.168.0.0/16       0.0.0.0/0 19   DROP       all  --  0.0.0.0/0            10.0.0.0/8 20   DROP       all  --  0.0.0.0/0            172.16.0.0/12 21   DROP       all  --  0.0.0.0/0            192.168.0.0/16 22   DROP       all  --  0.0.0.0/0            255.255.255.255 23   DROP       all  --  0.0.0.0/0            224.0.0.1  Chain FORWARD (policy DROP) num  target     prot opt source               destination 1    LOG        all  --  0.0.0.0/0            0.0.0.0/0           limit: avg 1/sec burst 5 LOG flags 0 level 4 prefix `[IPTABLES FORWARD] : ' 2    DROP       all  --  0.0.0.0/0            0.0.0.0/0  Chain OUTPUT (policy ACCEPT) num  target     prot opt source               destination 1    DROP       tcp  --  0.0.0.0/0           !XXX.XXX.XXX.0/23     multiport sports 135,137,138,139,445 2    DROP       udp  --  0.0.0.0/0           !XXX.XXX.XXX.0/23     multiport sports 135,137,138,139,445  Chain LOG_PINGDEATH (1 references) num  target     prot opt source               destination 1    ACCEPT     all  --  0.0.0.0/0            0.0.0.0/0           limit: avg 1/sec burst 4 2    LOG        all  --  0.0.0.0/0            0.0.0.0/0           LOG flags 0 level 4 prefix `[IPTABLES PINGDEATH] : ' 3    DROP       all  --  0.0.0.0/0            0.0.0.0/0   
</pre>
<p>以上で、Node(hoge02.sakura.ne.jp)に対して、Recipeの内容が実行されたことが確認できました。 </p>
<h4>おわりに</h4>
<p>ここでは単純にChefのServer / Client構成の動作を確認するために、<a class="keyword" href="http://d.hatena.ne.jp/keyword/iptables">iptables</a>の設定を例として簡単に設定ファイルを作成して、Nodeへ反映するという動作を確認してみました。 細かい動作や用語などまだ分からない部分もたくさんありますが、いろいろ弄っている中でとりあえず初歩的な部分は把握できたような気がします。<br>Chefの環境構築とその基本動作が確認できたので、もう少し凝ったRecipeの作成などをやってみようかと思います。 </p>
</body>
