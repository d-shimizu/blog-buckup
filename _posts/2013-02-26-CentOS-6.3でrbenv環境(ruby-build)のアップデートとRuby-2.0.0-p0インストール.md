---
layout: post
Categories:  ["tech"]
Description:  " はじめに  2013/02/24 Ruby 2.0.0p-0がリリースされたとのことで、rbenv管理でインストールしてみました。      Ruby 2.0.0-p0 リリース   rbenvとruby-buildは、以前こちらの内容の"
Tags: ["Ruby", "rbenv", "さくらのVPS", "CentOS"]
date: "2013-02-26T02:44:00+09:00"
title: "CentOS 6.3でrbenv環境(ruby-build)のアップデートとRuby 2.0.0-p0インストール"
author: "dshimizu"
archive: ["2013"]
draft: "true"
---

<body>
<h4>はじめに</h4>
<p>2013/02/24 <a class="keyword" href="http://d.hatena.ne.jp/keyword/Ruby">Ruby</a> 2.0.0p-0がリリースされたとのことで、rbenv管理でインストールしてみました。 </p>
<ul>  <li><a href="http://www.ruby-lang.org/ja/news/2013/02/24/ruby-2-0-0-p0-is-released">Ruby 2.0.0-p0 リリース</a></li>
</ul>
<a name="more"></a><p>rbenvと<a class="keyword" href="http://d.hatena.ne.jp/keyword/ruby">ruby</a>-buildは、以前<a href="http://kanjuku-tomato.blogspot.jp/2013/01/vpscentos-63rbenv-ruby-buildruby.html">こちら</a>の内容の通りに<a class="keyword" href="http://d.hatena.ne.jp/keyword/Github">Github</a>から取得してインストールしていましたが、そのままでは<a class="keyword" href="http://d.hatena.ne.jp/keyword/Ruby">Ruby</a> 2.0.0-p0が含まれておらず、インストール出来ません。<a class="keyword" href="http://d.hatena.ne.jp/keyword/ruby">ruby</a>-buildを最新にアップデートし、インストールを実施する必要があります。 </p>
<p>以下に<a class="keyword" href="http://d.hatena.ne.jp/keyword/ruby">ruby</a>-buildのアップデートと<a class="keyword" href="http://d.hatena.ne.jp/keyword/Ruby">Ruby</a> 2.0.0-p0のインストールの手順をまとめましたので記載致します。 </p> <h4>インストール環境</h4>
<p>インストール環境は以下です。 </p>
<table>
<tr>  <td bgcolor="#cccccc">プラットフォーム</td>  <td>さくらの<a class="keyword" href="http://d.hatena.ne.jp/keyword/VPS">VPS</a>(1G <a class="keyword" href="http://d.hatena.ne.jp/keyword/SSD">SSD</a>モデル)</td>
</tr>
<tr>  <td bgcolor="#cccccc">OS</td>  <td>
<a class="keyword" href="http://d.hatena.ne.jp/keyword/CentOS">CentOS</a> 6.3 <a class="keyword" href="http://d.hatena.ne.jp/keyword/x86">x86</a>_64 (64bit)</td>
</tr>
<tr>  <td bgcolor="#cccccc">rbenvインストール先</td>  <td>/usr/local/src</td>
</tr>
<tr>  <td bgcolor="#cccccc">
<a class="keyword" href="http://d.hatena.ne.jp/keyword/ruby">ruby</a>-buildインストール先</td>  <td>/usr/local/src/rbenv/share/<a class="keyword" href="http://d.hatena.ne.jp/keyword/ruby">ruby</a>-build</td>
</tr>
</table>
<h4>事前準備</h4>
<p><a class="keyword" href="http://d.hatena.ne.jp/keyword/Ruby">Ruby</a> 2.0.0-p0のインストールに当たってopenss-develパッケージが必要です。 openss-develパッケージがない場合はあらかじめインストールしておきます。 </p>
<pre class="terminal">  # yum install openssl-devel  
</pre>
<h4>rbenv環境の最新化</h4>
<h5>
<a class="keyword" href="http://d.hatena.ne.jp/keyword/ruby">ruby</a>-buildのアップデート</h5>
<p>公式手順通りにアップデートします。 </p>
<ul>  <li><a href="https://github.com/sstephenson/ruby-build#installing-as-a-standalone-program-advanced">Installing as a standalone program (advanced) -  sstephenson / ruby-build</a></li>
</ul>
<p>rootにスイッチします。 </p>
<pre class="terminal">  $ su - パスワード:  
</pre>
<p><a class="keyword" href="http://d.hatena.ne.jp/keyword/ruby">ruby</a>-build取得先<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%C7%A5%A3%A5%EC%A5%AF%A5%C8">ディレクト</a>リへ移動します。 </p>
<pre class="terminal">  # cd /usr/local/src/rbenv/plugins/ruby-build  
</pre>
<p>git pullして最新のソースを取得します。 </p>
<pre class="terminal">  # git pull origin master remote: Counting objects: 245, done. remote: Compressing objects: 100% (89/89), done. remote: Total 217 (delta 139), reused 184 (delta 110) Receiving objects: 100% (217/217), 24.65 KiB, done. Resolving deltas: 100% (139/139), completed with 14 local objects. From git://github.com/sstephenson/ruby-build  * branch            master     -&gt; FETCH_HEAD Updating a6395eb..97fc5c5 Fast-forward  CHANGELOG.md                    |   16 ++++++  README.md                       |   17 +------  bin/rbenv-install               |   15 +++++-  bin/ruby-build                  |  105 ++++++++++++++++++++++++++++++++++-----  share/ruby-build/1.9.3-p385     |    2 +  share/ruby-build/1.9.3-p392     |    2 +  share/ruby-build/2.0.0-dev      |    3 +-  share/ruby-build/2.0.0-p0       |    2 +  share/ruby-build/2.0.0-preview1 |    3 +-  share/ruby-build/2.0.0-preview2 |    3 +-  share/ruby-build/2.0.0-rc1      |    3 +-  share/ruby-build/2.0.0-rc2      |    2 +  share/ruby-build/jruby-1.7.3    |    1 +  share/ruby-build/rbx-2.0.0-dev  |    1 +  14 files changed, 142 insertions(+), 33 deletions(-)  create mode 100644 share/ruby-build/1.9.3-p385  create mode 100644 share/ruby-build/1.9.3-p392  create mode 100644 share/ruby-build/2.0.0-p0  create mode 100644 share/ruby-build/2.0.0-rc2  create mode 100644 share/ruby-build/jruby-1.7.3  
</pre>
<p>インストール<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%B9%A5%AF%A5%EA%A5%D7%A5%C8">スクリプト</a>を実行します。 </p>
<pre class="terminal">  # ./install.sh Installed ruby-build at /usr/local/src/rbenv  
</pre>
<p>以上で、<a class="keyword" href="http://d.hatena.ne.jp/keyword/ruby">ruby</a>-buildのアップデートは完了です。 </p>
<p>インストール可能な<a class="keyword" href="http://d.hatena.ne.jp/keyword/Ruby">Ruby</a>の一覧を見ると、<a class="keyword" href="http://d.hatena.ne.jp/keyword/Ruby">Ruby</a> 2.0.0-p0があることがわかります。 </p>
<pre class="terminal">  # rbenv install -l Available versions:   1.8.6-p383   1.8.6-p420   1.8.7-p249   1.8.7-p302   1.8.7-p334   1.8.7-p352   1.8.7-p357   1.8.7-p358   1.8.7-p370   1.8.7-p371   1.9.1-p378   1.9.2-p180   1.9.2-p290   1.9.2-p318   1.9.2-p320   1.9.3-dev   1.9.3-p0   1.9.3-p125   1.9.3-p194   1.9.3-p286   1.9.3-p327   1.9.3-p362   1.9.3-p374   1.9.3-p385   1.9.3-p392   1.9.3-preview1   1.9.3-rc1   2.0.0-dev   2.0.0-p0   2.0.0-preview1   2.0.0-preview2   2.0.0-rc1   2.0.0-rc2   jruby-1.5.6   jruby-1.6.3   jruby-1.6.4   jruby-1.6.5   jruby-1.6.5.1   jruby-1.6.6   jruby-1.6.7   jruby-1.6.7.2   jruby-1.6.8   jruby-1.7.0   jruby-1.7.0-preview1   jruby-1.7.0-preview2   jruby-1.7.0-rc1   jruby-1.7.0-rc2   jruby-1.7.1   jruby-1.7.2   jruby-1.7.3   maglev-1.0.0   maglev-1.1.0-dev   rbx-1.2.4   rbx-2.0.0-dev   rbx-2.0.0-rc1   ree-1.8.6-2009.06   ree-1.8.7-2009.09   ree-1.8.7-2009.10   ree-1.8.7-2010.01   ree-1.8.7-2010.02   ree-1.8.7-2011.03   ree-1.8.7-2011.12   ree-1.8.7-2012.01   ree-1.8.7-2012.02  </pre> <h4>
<a class="keyword" href="http://d.hatena.ne.jp/keyword/Ruby">Ruby</a> 2.0.0-p0のインストールと設定</h4>
<h5>
<a class="keyword" href="http://d.hatena.ne.jp/keyword/Ruby">Ruby</a> 2.0.0-p0のインストール</h5>
<p><a class="keyword" href="http://d.hatena.ne.jp/keyword/Ruby">Ruby</a> 2.0.0-p0のインストールを行います。 </p>
<pre class="terminal">  # rbenv install 2.0.0-p0 Downloading ruby-2.0.0-p0.tar.gz... -&gt; http://ftp.ruby-lang.org/pub/ruby/2.0/ruby-2.0.0-p0.tar.gz Installing ruby-2.0.0-p0... Installed ruby-2.0.0-p0 to /usr/local/src/rbenv/versions/2.0.0-p0  
</pre>
<p>インストールされた<a class="keyword" href="http://d.hatena.ne.jp/keyword/Ruby">Ruby</a>のバージョン一覧と現在設定されている<a class="keyword" href="http://d.hatena.ne.jp/keyword/Ruby">Ruby</a>のバージョンを確認してみます。 <br>(現在設定されている<a class="keyword" href="http://d.hatena.ne.jp/keyword/Ruby">Ruby</a>のバージョンには"*"が付与されます。) </p>
<pre class="terminal">  # rbenv versions * 1.9.3-p374 (set by /usr/local/src/rbenv/version)   2.0.0-p0  </pre> <h5>利用する<a class="keyword" href="http://d.hatena.ne.jp/keyword/Ruby">Ruby</a>を2.0.0-p0へ切り替え</h5>
<p>システム全体で使用する<a class="keyword" href="http://d.hatena.ne.jp/keyword/Ruby">Ruby</a>のバージョンを変更します。 </p>
<pre class="terminal">  # rbenv global 2.0.0-p0  
</pre>
<p>rbenv rehashを実行し、gemなどのツールの実行ファイルを作成します。 </p>
<pre class="terminal">  # rbenv rehash  
</pre>
<p>再度、現在設定されている<a class="keyword" href="http://d.hatena.ne.jp/keyword/Ruby">Ruby</a>のバージョンを確認してみます </p>
<pre class="terminal">  # rbenv versions   1.9.3-p374 * 2.0.0-p0 (set by /usr/local/src/rbenv/version)  
</pre>
<pre class="terminal">  # ruby -v ruby 2.0.0p0 (2013-02-24 revision 39474) [x86_64-linux]  
</pre>
<p>以上でrbenv管理での<a class="keyword" href="http://d.hatena.ne.jp/keyword/Ruby">Ruby</a> 2.0.0-p0がインストールできました。 </p> <h4>おわりに</h4>
<p>以下を見ると<a class="keyword" href="http://d.hatena.ne.jp/keyword/Ruby">Ruby</a> 2.0.0で多くの新機能や改善がなされたようですが、ものすごいボリュームに加えてまだまだ<a class="keyword" href="http://d.hatena.ne.jp/keyword/Ruby">Ruby</a>初心者なので全く読み切れてません。 </p>
<ul>  <li><a href="http://jp.rubyist.net/magazine/?0041">Ruby 2.0.0 リリース特集</a></li>
</ul>
</body>

<!-- more -->


